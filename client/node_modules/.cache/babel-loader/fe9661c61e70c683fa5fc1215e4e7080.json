{"ast":null,"code":"import _classCallCheck from \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/src/components/BookResults/BookResults.js\";\nimport React from \"react\";\nimport API from \"../../\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nvar BookResult =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BookResult, _React$Component);\n\n  function BookResult(props) {\n    var _this;\n\n    _classCallCheck(this, BookResult);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BookResult).call(this, props));\n\n    _this.handleSaveClick = function (e) {\n      this.setState({\n        saved: true\n      });\n      var bookData = {\n        title: this.props.title,\n        authors: this.props.authors,\n        link: this.props.link,\n        img: this.props.img,\n        description: this.props.description\n      };\n      e.preventDefault();\n      API.addBookToDB(bookData).then(function (response) {\n        console.log(response);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    };\n\n    _this.state = {\n      saved: false,\n      deleted: false\n    };\n    _this.handleSaveClick = _this.handleSaveClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDeleteClick = _this.handleDeleteClick.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(BookResult, [{\n    key: \"handleDeleteClick\",\n    value: function handleDeleteClick(e) {\n      var _this2 = this;\n\n      this.setState({\n        deleted: true\n      });\n      e.preventDefault();\n      API.deleteBook(this.props.id).then(function (response) {\n        console.log(response);\n        Router.dispatch(_this2.props.location, null);\n      }).catch(function (err) {\n        console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"bookResult\",\n        id: this.props.id ? this.props.id : null,\n        style: {\n          display: this.state.deleted ? \"none\" : \"block\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"aboutBook\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"h4\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }, this.props.title), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, \"By: \", this.props.authors ? this.props.authors.join(\", \") : \"N/A\")), React.createElement(\"div\", {\n        className: \"btnDiv\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, // if link to book exists include View button else do not\n      this.props.link ? React.createElement(\"a\", {\n        href: this.props.link,\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        type: \"button\",\n        name: \"view\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"View\")) : null, // if this.props.path is \"/\" display save button else display Delete button\n      this.props.path === \"/\" ? React.createElement(\"button\", {\n        type: \"button\",\n        name: \"save\",\n        onClick: this.handleSaveClick,\n        disabled: this.state.saved,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.state.saved ? \"Saved\" : \"Save\") : React.createElement(\"button\", {\n        type: \"button\",\n        name: \"Delete\",\n        onClick: this.handleDeleteClick,\n        disabled: this.state.deleted,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, \"Delete\"))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, this.props.img ? React.createElement(\"img\", {\n        src: // if smallthubmail exists on this.props.img use that else if thumbnail exists on this.props.img use that else leave src empty\n        this.props.img.smallThumbnail ? this.props.img.smallThumbnail : this.props.img.thumbnail ? this.props.img.thumbnail : \"\",\n        alt: \"book cover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }) : null, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, this.props.description ? this.props.description : \"N/A\")));\n    }\n  }]);\n\n  return BookResult;\n}(React.Component);\n\nexport default BookResult;","map":{"version":3,"sources":["/Users/ranton/bootcamp/sandbox/homework/Booksearch/client/src/components/BookResults/BookResults.js"],"names":["React","API","BrowserRouter","Router","BookResult","props","handleSaveClick","e","setState","saved","bookData","title","authors","link","img","description","preventDefault","addBookToDB","then","response","console","log","catch","err","state","deleted","bind","handleDeleteClick","deleteBook","id","dispatch","location","display","join","path","smallThumbnail","thumbnail","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport API from \"../../\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nclass BookResult extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n      saved: false,\n      deleted: false\n    }\n    this.handleSaveClick = this.handleSaveClick.bind(this);\n    this.handleDeleteClick = this.handleDeleteClick.bind(this);\n  }\n\n  handleSaveClick = function (e) {\n    this.setState({ saved: true });\n    const bookData = {\n      title: this.props.title,\n      authors: this.props.authors,\n      link: this.props.link,\n      img: this.props.img,\n      description: this.props.description\n    }\n    e.preventDefault();\n    API.addBookToDB(bookData).then(\n      (response) => {\n        console.log(response);\n      }\n    ).catch(\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n\n  handleDeleteClick (e) {\n    this.setState({ deleted: true });\n    e.preventDefault();\n    API.deleteBook(this.props.id).then(\n      (response) => {\n        console.log(response);\n        Router.dispatch(this.props.location, null)\n      }\n    ).catch(\n      (err) => {\n        console.log(err);\n      }\n    );\n  }\n\n  render () {\n    return (\n      <div className=\"bookResult\" id={(this.props.id) ? this.props.id : null} style={{ display: this.state.deleted ? \"none\" : \"block\" }}>\n        <div className=\"row\">\n          <div className=\"aboutBook\">\n            <h4>{this.props.title}</h4>\n            <p>By: {(this.props.authors) ? this.props.authors.join(\", \") : \"N/A\"}</p>\n          </div>\n          <div className=\"btnDiv\">\n            {\n              // if link to book exists include View button else do not\n              (this.props.link) ? <a href={this.props.link} target=\"_blank\" rel=\"noopener noreferrer\"><button type=\"button\" name=\"view\">View</button></a> : null\n            }\n            {\n              // if this.props.path is \"/\" display save button else display Delete button\n              (this.props.path === \"/\") ? <button type=\"button\" name=\"save\" onClick={this.handleSaveClick} disabled={this.state.saved}>{(this.state.saved) ? \"Saved\" : \"Save\"}</button> : <button type=\"button\" name=\"Delete\" onClick={this.handleDeleteClick} disabled={this.state.deleted}>Delete</button>\n            }\n          </div>\n        </div>\n        <div className=\"row\">\n          {(this.props.img) ? <img src={\n            // if smallthubmail exists on this.props.img use that else if thumbnail exists on this.props.img use that else leave src empty\n            (this.props.img.smallThumbnail) ? this.props.img.smallThumbnail :\n              (this.props.img.thumbnail) ? this.props.img.thumbnail : \"\"\n          } alt=\"book cover\" /> : null}\n          <p>{(this.props.description) ? this.props.description : \"N/A\"}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BookResult;"]},"metadata":{},"sourceType":"module"}